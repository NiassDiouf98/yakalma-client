<div class="dish-detail-modal bg-gradient-to-br from-gray-800 to-gray-900 text-white p-6 rounded-2xl max-h-[90vh] overflow-y-auto">

  <!-- Header with Image and Close Button -->
  <div class="relative mb-6">
    <div class="aspect-video rounded-xl overflow-hidden bg-cover bg-center"
         [style.background-image]="'url(' + dish.image + ')'">
      <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
    </div>
    <button mat-icon-button
            class="absolute top-4 right-4 bg-black/50 hover:bg-black/70 text-white"
            (click)="onClose()">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <!-- Dish Info -->
  <div class="mb-6">
    <div class="flex justify-between items-start mb-4">
      <div>
        <h2 class="text-3xl font-bold text-white mb-2">{{ dish.name }}</h2>
      </div>
      <div class="text-right">
        <div class="text-3xl font-bold text-blue-400 mb-1">{{ dish.price | currency:'EUR':'symbol':'1.2-2':'fr' }}</div>
      </div>
    </div>

    <p class="text-gray-300 text-lg leading-relaxed mb-4">{{ dish.description }}</p>


  </div>



  <!-- Quantity Selector -->
  <div class="mb-6">
    <h3 class="text-xl font-semibold text-white mb-3">Quantité</h3>
    <div class="flex items-center space-x-4">
      <button mat-icon-button
              color="primary"
              class="bg-blue-500/20 hover:bg-blue-500/30"
              (click)="decreaseQuantity()"
              [disabled]="quantity <= 1">
        <mat-icon>remove</mat-icon>
      </button>
      <span class="text-2xl font-bold text-white min-w-[3rem] text-center">{{ quantity }}</span>
      <button mat-icon-button
              color="primary"
              class="bg-blue-500/20 hover:bg-blue-500/30"
              (click)="increaseQuantity()">
        <mat-icon>add</mat-icon>
      </button>
    </div>
  </div>

  <!-- Special Instructions -->
  <div class="mb-6">
    <h3 class="text-xl font-semibold text-white mb-3">Instructions spéciales</h3>

    <!-- Supplements -->
    <div class="mb-4">
      <h4 class="text-lg font-medium text-gray-300 mb-2">Suppléments</h4>
      <div class="grid grid-cols-3 gap-2">
        <mat-checkbox *ngFor="let supplement of dish.supplements"
                      [checked]="isSupplementSelected(supplement)"
                      (change)="toggleSupplement(supplement)"
                      class="text-gray-300">
          {{ supplement.name }} (+{{ supplement.price | currency:'EUR':'symbol':'1.2-2':'fr' }})
        </mat-checkbox>
      </div>
    </div>

    <!-- Special Instructions Textarea -->
    <mat-form-field class="w-full">
      <mat-label>Ex: Sans sel, épicé, etc.</mat-label>
      <textarea matInput
                [(ngModel)]="specialInstructions"
                rows="1"
                placeholder="Ajoutez vos préférences ou restrictions alimentaires..."></textarea>
    </mat-form-field>
  </div>

  <!-- Total and Actions -->
  <div class="border-t border-gray-700 pt-6">
    <div class="flex justify-between items-center mb-4">
      <span class="text-xl font-semibold text-white">Total</span>
      <span class="text-2xl font-bold text-blue-400">{{ getTotalPrice() | currency:'EUR':'symbol':'1.2-2':'fr' }}</span>
    </div>

    <div class="flex space-x-3">
      <button mat-stroked-button
              class="flex-1 border-gray-600 text-gray-300 hover:bg-gray-700"
              (click)="onClose()">
        Annuler
      </button>
      <button mat-raised-button
              color="primary"
              class="flex-1 bg-blue-600 hover:bg-blue-700"
              (click)="onAddToOrder()">
        <mat-icon class="mr-2">add_shopping_cart</mat-icon>
        Ajouter à la commande
      </button>
    </div>
  </div>

  <app-toast-success></app-toast-success>
  <app-toast-error></app-toast-error>
</div>
